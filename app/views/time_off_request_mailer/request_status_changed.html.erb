<h2 style="margin: 0 0 12px;">Time-off Request <%= @new_status.to_s.humanize %></h2>

<p style="margin: 0 0 16px;">
  <strong><%= @requester.full_name.presence || @requester.email %></strong>
  <%= (@new_status.to_s == "canceled" ? "canceled" : "had updated") %> a time-off request.
</p>

<table style="width: 100%; border-collapse: collapse; margin: 0 0 16px;">
  <tr>
    <td style="padding: 8px 0; width: 160px;"><strong>Status</strong></td>
    <td style="padding: 8px 0;">
      <%= @prev_status.to_s.humanize %> → <%= @new_status.to_s.humanize %>
    </td>
  </tr>
  <tr>
    <td style="padding: 8px 0;"><strong>Leave Type</strong></td>
    <td style="padding: 8px 0;"><%= @time_off_request.time_off_type.humanize %></td>
  </tr>
  <tr>
    <td style="padding: 8px 0;"><strong>Dates</strong></td>
    <td style="padding: 8px 0;">
      <%= @time_off_request.start_date.strftime("%B %d, %Y") %> –
      <%= @time_off_request.end_date.strftime("%B %d, %Y") %>
      (<%= @time_off_request.total_days %> days)
    </td>
  </tr>
  <% if @reviewer.present? %>
    <tr>
      <td style="padding: 8px 0;"><strong>Reviewed By</strong></td>
      <td style="padding: 8px 0;"><%= @reviewer.full_name.presence || @reviewer.email %></td>
    </tr>
  <% end %>
</table>

<% if @time_off_request.latest_approval_review_notes.present? %>
  <div style="border-left: 4px solid #e9ecef; padding-left: 12px; margin: 0 0 16px;">
    <p style="margin: 0 0 6px;"><strong>Reviewer Notes</strong></p>
    <p style="margin: 0;"><%= simple_format(@time_off_request.latest_approval_review_notes) %></p>
  </div>
<% end %>

<p style="margin: 0 0 16px;">
  <a href="<%= time_off_request_url(@time_off_request) %>"
     style="display: inline-block; padding: 10px 14px; background: #0d6efd; color: #fff; text-decoration: none; border-radius: 6px;">
    View Request
  </a>
</p>

<p style="margin: 0; color: #6c757d; font-size: 13px;">
  If you believe this change was made in error, please contact your administrator.
</p>
